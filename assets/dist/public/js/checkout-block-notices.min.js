wp.domReady(()=>{let{createElement:e,render:t,useState:o,useEffect:l,useRef:a}=wp.element,{Notice:c}=wp.components,n=()=>{let[t,n]=o(0),[r,s]=o(0),[i,u]=o(0),p=a(null);return l(()=>{let e=async()=>{try{let e=await jQuery.ajax({url:pointsForCheckoutBlock.ajax_url,method:"POST",data:{action:"show_loyalty_points_in_checkout",security:pointsForCheckoutBlock.nonce}});e.success&&(s(e.data.spendingAmount),u(e.data.pointAmount))}catch(t){console.error("Error fetching multiplier:",t)}},t=()=>{let e=document.querySelector(".wc-block-components-totals-item__value");if(e&&r&&i){let t=parseFloat(e.innerText.replace(/[^\d.-]/g,"")),o=Math.floor(t/r)*i;n(o)}else n(0)};e(),t()},[r,i]),e(c,{status:"info",isDismissible:!1},"You will earn ",e("span",{className:"points-value",ref:p},t)," points with this order.")},r=document.querySelector(".wc-block-checkout");if(r){let s=document.createElement("div");s.classList.add("custom-checkout-notice-wrapper"),r.prepend(s),t(e(n),s)}});
